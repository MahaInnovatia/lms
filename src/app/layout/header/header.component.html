<nav #navbar class="navbar active">
  <div class="container-fluid">
    <div class="navbar-header">
      <a href="#" onClick="return false;" class="navbar-toggle collapsed"
        (click)="isNavbarCollapsed = !isNavbarCollapsed" aria-expanded="false"></a>
      <a href="#" onClick="return false;" class="bars" (click)="mobileMenuSidebarOpen($event,'overlay-open')"></a>
      <a class="navbar-brand" [routerLink]="homePage">
        <div class="logo-container">
          <img [src]="logoImage" alt="" />
          <p class="media-title font-16" [ngClass]="{'show-title': isOpenSidebar}" (click)="$event.stopPropagation()">
            {{logoTitle}}
          </p>
        </div>
      </a>
      
    </div>
    <div class="collapse navbar-collapse" [ngClass]="isNavbarCollapsed ? '' : 'show'">
      <ul class="float-start collapse-menu-icon">
        <li>
          <button mat-button (click)="callSidemenuCollapse()" class="sidemenu-collapse nav-notification-icons"> <i
              class="material-icons-outlined icon-color">
              menu
            </i></button>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="gmail">
          <a routerLink="/email/inbox" title="Inbox" routerLinkActive="active">
            <button mat-button class="nav-notification-icons email-button" >
              <div class="icon-wrapper">
                <i class="material-icons-outlined icon-color">email</i>
                <span class="dot">
                  <span class="ping"></span> 
                </span>
              </div>
            </button>
          </a>
        </li>
        
        
        <!-- Full Screen Button -->
        <li class="fullscreen">
          <button mat-button class="nav-notification-icons" (click)="callFullscreen()"> <i
              class="material-icons-outlined icon-color">
              fullscreen
            </i></button>
        </li>
        <!-- #END# Full Screen Button -->
        <!-- #START# Notifications-->
        <li>
          <button mat-button [matMenuTriggerFor]="notificationMenu" class="nav-notification-icons"
          matBadge="{{ notificationCount }}" 
          matBadgePosition="above after" 
          matBadgeColor="warn" 
          matBadgeSize="medium"
          [matBadgeHidden]="notificationCount === 0">
          <i class="material-icons-outlined icon-color">
            notifications_active
          </i>
        </button>
          <mat-menu #notificationMenu="matMenu" class="nfc-menu">
            <div class="nfc-header">
              <h5 class="mb-0">Notitications</h5>
            </div>
            <div class="nfc-dropdown">
              <ng-scrollbar style="height: 350px" visibility="hover">
                <div class="noti-list header-menu">
                  <div class="menu">
                    <div>
                      <button class="mat-list" *ngFor="let notification of announcements">
                        <span class="table-img msg-user ">
                          <i class="material-icons-two-tone nfc-type-icon" [ngClass]="[color]">{{icon}}</i>
                        </span>
                        <span class="menu-info ">
                          <span class="menu-title mt-1"
                            (click)="showCustomHtml(notification)">{{notification.subject}}</span>
                        </span>
                        <span class="nfc-close ">
                          <app-feather-icons [icon]="'x'" [class]="'user-menu-icons'"
                            (click)="cancel(notification.id)"></app-feather-icons>
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
              </ng-scrollbar>
            </div>
            <div class="nfc-footer">
              <a class="nfc-read-all">Close</a>
            </div>
          </mat-menu>
        </li>
        <!-- #END# Notifications-->
        <li>

          <select (change)="setLanguage($event)">
            <option *ngFor="let item of listLang" [value]="item.lang">
              {{item.text}}
            </option>
          </select>

        </li>
        <li *ngIf="!isTwoFactor">

          <button mat-button  *ngIf="checkViewSettings(role)" [matMenuTriggerFor]="menu">
            <app-feather-icons [icon]="'settings'" [class]="'user-menu-icons'"></app-feather-icons>
          </button>
          <mat-menu #menu="matMenu" class="horizontal-menu">
            <div class="shortcut-grid">
              <div
                class="shortcut-card"
                *ngFor="let menu of settingsItems"
                [routerLink]="[menu.id, menu.children?.[0]?.id]"
              >
                <div class="icon-wrapper" [ngStyle]="{ 'background-color': menu.bgcolor }">
                  <i class="material-icons-outlined" [ngStyle]="{ color: menu.color }">
                    {{ menu.icon }}
                  </i>
                </div>
                <h5 class="menu-title">{{ menu.title }}</h5>
              </div>
            </div>
          </mat-menu>
        </li>
        <li class="nav-item user_profile">
          <button mat-button [matMenuTriggerFor]="profilemenu">
            <div class="chip dropdown-toggle" ngbDropdownToggle class="pt-0">
              <img [src]="userProfile || '../../../assets/profile.png'" class="user_img" width="32" height="32"
                alt="User Image" />

              <span>{{userFullName}}</span>

            </div>
          </button>
          <mat-menu #profilemenu="matMenu" class="profile-menu">
            <div class="noti-list">
              <div class="menu ">
                <div class="user_dw_menu">
                  <button mat-menu-item *ngIf="!isTwoFactor" class="user-item-list" [routerLink]="['/student/settings/account-settings']">
                    <app-feather-icons [icon]="'user'" [class]="'user-menu-icons'"></app-feather-icons>User Information
                  </button>
                  <!-- <button mat-menu-item *ngIf="!isTwoFactor" class="user-item-list" [routerLink]="['/student/settings/security-settings']">
                    <app-feather-icons [icon]="'lock'" [class]="'user-menu-icons'"></app-feather-icons>Change Password
                  </button> -->
                  <!-- <button mat-menu-item (click)="linkSingpass()" class="user-item-list" style="color: #da2626;">
                    <app-feather-icons [icon]="'log-in'" [class]="'user-menu-icons'"></app-feather-icons>Link Singpass
                  </button> -->
                  <button mat-menu-item (click)="logout()" class="user-item-list">
                    <app-feather-icons [icon]="'log-out'" [class]="'user-menu-icons'"></app-feather-icons>Logout
                  </button>
                </div>
              </div>
            </div>
          </mat-menu>
        </li>
        <!-- #END# Tasks -->
      </ul>
    </div>
  </div>
</nav>